
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Use Kubernetes on GKE Â· Fabric8 Documentation</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.0.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="openshift.html" />
    
    
    <link rel="prev" href="kubernetes.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../overview.html">
            
                <a href="../overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="vagrant.html">
            
                <a href="vagrant.html">
            
                    
                    Use Vagrant
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="kubernetes.html">
            
                <a href="kubernetes.html">
            
                    
                    Use Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.3" data-path="gke.html">
            
                <a href="gke.html">
            
                    
                    Use Kubernetes on GKE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="openshift.html">
            
                <a href="openshift.html">
            
                    
                    Use OpenShift
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="installOpenShift.html">
            
                <a href="installOpenShift.html">
            
                    
                    Install OpenShift
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="cdk.html">
            
                <a href="cdk.html">
            
                    
                    Use CDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="apps.html">
            
                <a href="apps.html">
            
                    
                    Installing apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="local.html">
            
                <a href="local.html">
            
                    
                    Setup Local OpenShift Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="develop.html">
            
                <a href="develop.html">
            
                    
                    Develop locally
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="browserCertificates.html">
            
                <a href="browserCertificates.html">
            
                    
                    Accept self-signed certs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="troubleshooting.html">
            
                <a href="troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../develop/">
            
                <a href="../develop/">
            
                    
                    Developing Microservices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../develop/elasticity.html">
            
                <a href="../develop/elasticity.html">
            
                    
                    Elasticity and Resilience
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../develop/designForFailure.html">
            
                <a href="../develop/designForFailure.html">
            
                    
                    Design for Failure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../develop/serviceDiscovery.html">
            
                <a href="../develop/serviceDiscovery.html">
            
                    
                    Service Discovery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../develop/loadBalancing.html">
            
                <a href="../develop/loadBalancing.html">
            
                    
                    Load balancing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../develop/pipelines.html">
            
                <a href="../develop/pipelines.html">
            
                    
                    Pipelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../develop/logging.html">
            
                <a href="../develop/logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../develop/monitoring.html">
            
                <a href="../develop/monitoring.html">
            
                    
                    Monitoring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../develop/tracing.html">
            
                <a href="../develop/tracing.html">
            
                    
                    Tracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../develop/circuitBreakers.html">
            
                <a href="../develop/circuitBreakers.html">
            
                    
                    Circuit Breakers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../develop/configuration.html">
            
                <a href="../develop/configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../fabric8DevOps.html">
            
                <a href="../fabric8DevOps.html">
            
                    
                    Microservices Platform
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../console.html">
            
                <a href="../console.html">
            
                    
                    Developer Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../cdelivery.html">
            
                <a href="../cdelivery.html">
            
                    
                    CI and CD
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../jenkinsWorkflowLibrary.html">
            
                <a href="../jenkinsWorkflowLibrary.html">
            
                    
                    Jenkins Workflow Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../fabric8YmlFile.html">
            
                <a href="../fabric8YmlFile.html">
            
                    
                    fabric8.yml file
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../management.html">
            
                <a href="../management.html">
            
                    
                    Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../logging.html">
            
                <a href="../logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../metrics.html">
            
                <a href="../metrics.html">
            
                    
                    Metrics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../chat.html">
            
                <a href="../chat.html">
            
                    
                    Chat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../chaosMonkey.html">
            
                <a href="../chaosMonkey.html">
            
                    
                    Chaos Monkey
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../ipaas.html">
            
                <a href="../ipaas.html">
            
                    
                    Integration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../fabric8MQ.html">
            
                <a href="../fabric8MQ.html">
            
                    
                    Messaging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../apiManagement.html">
            
                <a href="../apiManagement.html">
            
                    
                    API Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="../apimanComponents.html">
            
                <a href="../apimanComponents.html">
            
                    
                    Apiman Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.2" data-path="../apimanGettingStarted.html">
            
                <a href="../apimanGettingStarted.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.3" data-path="../apimanDataModel.html">
            
                <a href="../apimanDataModel.html">
            
                    
                    Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.4" data-path="../apimanImportService.html">
            
                <a href="../apimanImportService.html">
            
                    
                    Publish Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2.5" data-path="../apimanConsumeService.html">
            
                <a href="../apimanConsumeService.html">
            
                    
                    Consume a Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../quickstarts/">
            
                <a href="../quickstarts/">
            
                    
                    Quickstarts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../quickstarts/archetypes.html">
            
                <a href="../quickstarts/archetypes.html">
            
                    
                    Archetypes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../quickstarts/running.html">
            
                <a href="../quickstarts/running.html">
            
                    
                    Running
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../quickstarts/walkthrough.html">
            
                <a href="../quickstarts/walkthrough.html">
            
                    
                    Walk-through
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../tools.html">
            
                <a href="../tools.html">
            
                    
                    Tools
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../testing.html">
            
                <a href="../testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../forge.html">
            
                <a href="../forge.html">
            
                    
                    Forge
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="../camelMavenPlugin.html">
            
                <a href="../camelMavenPlugin.html">
            
                    
                    Camel Maven Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../mavenPlugin.html">
            
                <a href="../mavenPlugin.html">
            
                    
                    Maven Plugin
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="../mavenDockerBuild.html">
            
                <a href="../mavenDockerBuild.html">
            
                    
                    docker:build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.2" data-path="../mavenDockerPush.html">
            
                <a href="../mavenDockerPush.html">
            
                    
                    docker:push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.3" data-path="../mavenFabric8Apply.html">
            
                <a href="../mavenFabric8Apply.html">
            
                    
                    fabric8:apply
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.4" data-path="../mavenFabric8CreateEnv.html">
            
                <a href="../mavenFabric8CreateEnv.html">
            
                    
                    fabric8:create-env
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.5" data-path="../mavenFabric8CreateRoutes.html">
            
                <a href="../mavenFabric8CreateRoutes.html">
            
                    
                    fabric8:create-routes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.6" data-path="../mavenFabric8DeletePods.html">
            
                <a href="../mavenFabric8DeletePods.html">
            
                    
                    fabric8:delete-pods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.7" data-path="../mavenFabric8DevOps.html">
            
                <a href="../mavenFabric8DevOps.html">
            
                    
                    fabric8:devops
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.8" data-path="../mavenFabric8Helm.html">
            
                <a href="../mavenFabric8Helm.html">
            
                    
                    fabric8:helm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.9" data-path="../mavenFabric8HelmPush.html">
            
                <a href="../mavenFabric8HelmPush.html">
            
                    
                    fabric8:helm-push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.10" data-path="../mavenFabric8Json.html">
            
                <a href="../mavenFabric8Json.html">
            
                    
                    fabric8:json
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.10.1" data-path="../annotationProcessors.html">
            
                <a href="../annotationProcessors.html">
            
                    
                    annotation processors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3.11" data-path="../mavenFabric8Recreate.html">
            
                <a href="../mavenFabric8Recreate.html">
            
                    
                    fabric8:recreate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.12" data-path="../mavenFabric8Rolling.html">
            
                <a href="../mavenFabric8Rolling.html">
            
                    
                    fabric8:rolling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../helm.html">
            
                <a href="../helm.html">
            
                    
                    Helm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../javaLibraries.html">
            
                <a href="../javaLibraries.html">
            
                    
                    Java Libraries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../cdi.html">
            
                <a href="../cdi.html">
            
                    
                    CDI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../annotations.html">
            
                <a href="../annotations.html">
            
                    
                    Annotations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../secretAnnotations.html">
            
                <a href="../secretAnnotations.html">
            
                    
                    Secret Annotations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../architecture.html">
            
                <a href="../architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../pods.html">
            
                <a href="../pods.html">
            
                    
                    Pods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../replicationControllers.html">
            
                <a href="../replicationControllers.html">
            
                    
                    Replication Controllers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../labels.html">
            
                <a href="../labels.html">
            
                    
                    Labels
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../services.html">
            
                <a href="../services.html">
            
                    
                    Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../apps.html">
            
                <a href="../apps.html">
            
                    
                    Apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../environments.html">
            
                <a href="../environments.html">
            
                    
                    Environments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../builds.html">
            
                <a href="../builds.html">
            
                    
                    Builds
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../projects.html">
            
                <a href="../projects.html">
            
                    
                    Source Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../v2-changes.html">
            
                <a href="../v2-changes.html">
            
                    
                    Changes from V1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../FAQ.html">
            
                <a href="../FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../faqGeneral.html">
            
                <a href="../faqGeneral.html">
            
                    
                    General Questions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../faqFuse.html">
            
                <a href="../faqFuse.html">
            
                    
                    JBoss Fuse Questions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../faqKubernetes.html">
            
                <a href="../faqKubernetes.html">
            
                    
                    Kubernetes Questions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" >
            
                <a target="_blank" href="https://help.openshift.com/hc/en-us/categories/200177370-Frequently-Asked-Questions">
            
                    
                    OpenShift Questions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Use Kubernetes on GKE</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="getting-started-with-kubernetes-on-google-container-engine"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Getting Started with Kubernetes on Google Container Engine</h2>
<p>It is very easy to get up and running with Google Container Engine (GKE) and the docs are extremely well structured.  Before you start you should read the short GKE <a href="https://cloud.google.com/container-engine/docs/#overview" _target="blank">overview</a> and especially familiarise yourself with the <a href="https://cloud.google.com/container-engine/docs/#pricing" _target="blank">pricing</a> information!</p>
<h3 id="before-you-begin"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Before you begin</h3>
<p>To start you will need to sign up for an account, enable billing and install on your local machine the gcloud and kubectl client binaries.  All this can be done by following the <a href="https://cloud.google.com/container-engine/docs/before-you-begin" _target="blank">Google before you begin guide</a>.</p>
<p>To make things easier to type we use we&apos;ve been using an alias pointing to where the google-cloud-sdk was downloaded for <code>kubectl</code> so we can just call <code>kc</code>..</p>
<pre><code>alias kc=~/google-cloud-sdk/bin/kubectl
</code></pre><h3 id="creating-a-container-cluster"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Creating a container cluster</h3>
<p>Now you are ready to create a cluster on GKE.  To start with we recommend creating a cluster of one instance which can be used to familiarise yourself with the architecture and components without incurring too much cost.  You can easily build up the cluster later.</p>
<p>Follow this guide to create your cluster <a href="https://cloud.google.com/container-engine/docs/clusters/operations#creating_a_container_cluster" _target="blank">creating a container cluster</a></p>
<p>Again to start with we recommend choosing a low spec machine such as n1-standard-1 (1 vCPU, 3.75 GB memory).</p>
<p><img src="../images/gkeCreateCluster.png" alt="GKE create cluster screenshot"></p>
<p>Now that you have created your cluster you should be able to use your <code>kc</code> alias from the &quot;Before you begin step&quot; above to interact with your new Kubernetes instance, for example..</p>
<pre><code>kc get pods
</code></pre><h3 id="install-the-fabric8-console"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Install the fabric8 console</h3>
<p>Now there wont be anything running yet so lets install the fabric8 console, run as a <a href="https://cloud.google.com/container-engine/docs/replicationcontrollers/" _target="blank">replication controller</a> and include a <a href="https://cloud.google.com/container-engine/docs/services/" _target="blank">service</a>.  We will also install another pod that includes a base set of template apps that we can run later.  So now run..</p>
<pre><code>kc create -f http://central.maven.org/maven2/io/fabric8/apps/console-kubernetes/2.2.104/console-kubernetes-2.2.104-kubernetes.json
</code></pre><p>To explain what just happened a little, we downloaded a kubernetes.json configuration file which describes a <a href="https://cloud.google.com/container-engine/docs/replicationcontrollers/" _target="blank">replication controller</a> for the fabric8-console docker image.  This file is generated as part of the fabric8 release process.  The kubernetes CLI created this replication controller called fabric8 which then instructed the API server to schedule a pod on a node in our cluster.  The image may take a little while to download from docker hub.  If you want to build and push the image to your Google registry then see the relevant section below.</p>
<h3 id="using-the-console"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Using the console</h3>
<p>Here is a <a href="https://vimeo.com/134408470" _target="blank">video showing you what you can do with the console on GKE</a></p>
<div class="row">
  <p class="text-center">
      <iframe src="https://player.vimeo.com/video/134408470" width="1000" height="562" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen></iframe>
  </p>
</div>

<p>For more details check the <a href="console.html">console documentation</a></p>
<h3 id="accessing-the-api-server-from-your-local-machine"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Accessing the API server from your local machine</h3>
<p>In the short term (we&apos;re working on an improved way to access the console) we can view the console using the Kubernetes API server, service proxy.</p>
<p>After we logged in earlier using <code>gcloud beta container get-credentials</code> it created a config file in your user home directory...</p>
<pre><code>cat ~/.kube/config
</code></pre><p>in here you can see the API server address under <code>server:</code> whis we will use later in this step when we refer to <code>$API_SERVER_IP</code>.  Currently the API server uses basic auth to authenticate so at the bottom of the <code>~/.kube/config</code> file you will also see the admin username and password that you can use.</p>
<p>You will then be able to access the API server from you browser after accepting the certificate, for example to view the Kubernetes swagger UI...</p>
<pre><code>https://$API_SERVER_IP/swagger-ui
</code></pre><p>now to view the fabric8 console go to...</p>
<pre><code>https://$API_SERVER_IP/api/v1/proxy/namespaces/default/services/fabric8/
</code></pre><p><img src="../images/gkeApps.png" alt="fabric8 console on GKE screenshot"></p>
<h3 id="container-registry"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Container Registry</h3>
<p>Your GKE project has a <a href="https://cloud.google.com/tools/container-registry/" _target="blank">container registry</a> that you can use to push images to and reference in you kubernetes configurations.  This is useful if you want to avoid pulling images from dockerhub and also when developing custom images.</p>
<p>For example lets take the fabric8-console itself...</p>
<h4 id="clone-and-build"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Clone and build</h4>
<pre><code>git clone git@github.com:fabric8io/fabric8-console.git
cd fabric8-console
npm install -g bower gulp
npm install
bower update
rm -Rf site.*
gulp bower
gulp site
</code></pre><h4 id="docker-build-tag-and-push-to-your-projects-google-registry"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Docker build, tag and push to your projects Google registry</h4>
<pre><code>docker build --rm -t gcr.io/fabric8-984/fabric8-console .
gcloud docker push gcr.io/fabric8-984/fabric8-console
</code></pre><h4 id="modify-the-console-kubernetesjson-search-for-image-and-replace-the-name-with-the-tagged-name-above"><a name="undefined" class="plugin-anchor" href="#undefined"><span class="fa fa-link"></span></a>Modify the console kubernetes.json, search for <code>image</code> and replace the name with the tagged name above</h4>
<pre><code>&quot;image&quot; : &quot;gcr.io/fabric8-984/fabric8-console&quot;
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="kubernetes.html" class="navigation navigation-prev " aria-label="Previous page: Use Kubernetes">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="openshift.html" class="navigation navigation-next " aria-label="Next page: Use OpenShift">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Use Kubernetes on GKE","level":"1.3.3","depth":2,"next":{"title":"Use OpenShift","level":"1.3.4","depth":2,"path":"getStarted/openshift.md","ref":"getStarted/openshift.md","articles":[{"title":"Install OpenShift","level":"1.3.4.1","depth":3,"path":"getStarted/installOpenShift.md","ref":"getStarted/installOpenShift.md","articles":[]}]},"previous":{"title":"Use Kubernetes","level":"1.3.2","depth":2,"path":"getStarted/kubernetes.md","ref":"getStarted/kubernetes.md","articles":[]},"dir":"ltr"},"config":{"plugins":["anchors"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"anchors":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"github":"fabric8io/fabric8","theme":"default","githubHost":"https://github.com/","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":36,"bottom":36},"toc":true},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Fabric8 Documentation","links":{"home":"http://fabric8.io/","about":"http://fabric8.io/docs/index.html","issues":"https://github.com/fabric8io/fabric8/issues?milestone=none&state=closed","contribute":"http://fabric8.io/contributing/index.html","sharing":{"google":null,"facebook":null,"twitter":"https://twitter.com/fabric8io"}},"gitbook":">=2.0.0","description":"Fabric8 User Guide and Reference Documentation","extension":"pdf"},"file":{"path":"getStarted/gke.md","mtime":"2016-05-31T14:14:50.000Z","type":"markdown"},"gitbook":{"version":"3.0.3","time":"2016-05-31T14:18:14.733Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/buttons.js"></script>
        
    

    </body>
</html>

